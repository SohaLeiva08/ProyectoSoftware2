<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Project Management App</title>
  <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // Datos iniciales
    const initialTeamMembers = [
      { id: 'user-1', name: 'Alex Johnson', avatar: 'https://i.pravatar.cc/100?img=1', role: 'Frontend Developer', email: 'alex@company.com' },
      { id: 'user-2', name: 'Maria Garcia', avatar: 'https://i.pravatar.cc/100?img=2', role: 'UI/UX Designer', email: 'maria@company.com' },
      { id: 'user-3', name: 'David Chen', avatar: 'https://i.pravatar.cc/100?img=3', role: 'Backend Developer', email: 'david@company.com' },
      { id: 'user-4', name: 'Sarah Williams', avatar: 'https://i.pravatar.cc/100?img=4', role: 'Project Manager', email: 'sarah@company.com' },
      { id: 'user-5', name: 'James Wilson', avatar: 'https://i.pravatar.cc/100?img=5', role: 'QA Engineer', email: 'james@company.com' }
    ];

    const initialProjects = [
      {
        id: 'project-1',
        name: 'Website Redesign',
        description: 'Complete redesign of company website',
        tags: ['Design', 'Development', 'Marketing'],
        assignees: ['user-2', 'user-1'],
        issues: [
          { 
            id: 'issue-1', 
            title: 'Add discount code to checkout page', 
            date: 'Sep 14', 
            tag: 'Feature Request', 
            assignee: 'https://i.pravatar.cc/100?img=1',
            status: 'doing',
            priority: 'high',
            createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),
            updatedAt: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString()
          },
          { 
            id: 'issue-2', 
            title: 'Fix broken image on product page', 
            date: 'Sep 15', 
            tag: 'Bug', 
            assignee: 'https://i.pravatar.cc/100?img=2',
            status: 'todo',
            priority: 'medium',
            createdAt: new Date(Date.now() - 5 * 60 * 60 *1000).toISOString(),
            updatedAt: new Date(Date.now() - 5 * 60 * 60 * 1000).toISOString()
          }
        ]
      },
      {
        id: 'project-2', 
        name: 'Mobile App',
        description: 'New customer mobile application',
        tags: ['Development', 'v2.0'],
        assignees: ['user-3', 'user-5'],
        issues: [
          { 
            id: 'issue-3', 
            title: 'Implement new payment gateway', 
            date: 'Sep 19', 
            tag: 'Feature Request', 
            assignee: 'https://i.pravatar.cc/100?img=3',
            status: 'review',
            priority: 'high',
            createdAt: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),
            updatedAt: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()
          },
          { 
            id: 'issue-4', 
            title: 'Fix login authentication bug', 
            date: 'Sep 22', 
            tag: 'Bug', 
            assignee: 'https://i.pravatar.cc/100?img=5',
            status: 'done',
            priority: 'critical',
            createdAt: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString(),
            updatedAt: new Date(Date.now() - 3 * 60 * 60 * 1000).toISOString()
          }
        ]
      }
    ];

    const availableTags = ['Feature Request', 'Bug', 'Marketing', 'v2.0', 'Enhancement', 'Design', 'Development'];
    const availableRoles = ['Frontend Developer', 'Backend Developer', 'UI/UX Designer', 'Project Manager', 'QA Engineer', 'DevOps Engineer', 'Product Owner'];
    const statusOptions = [
      { id: 'todo', name: 'To Do', color: 'bg-gray-500' },
      { id: 'doing', name: 'In Progress', color: 'bg-blue-500' },
      { id: 'review', name: 'Review', color: 'bg-yellow-500' },
      { id: 'done', name: 'Done', color: 'bg-green-500' },
      { id: 'cancelled', name: 'Cancelled', color: 'bg-red-500' }
    ];
    const priorityOptions = [
      { id: 'low', name: 'Low', color: 'bg-gray-500' },
      { id: 'medium', name: 'Medium', color: 'bg-blue-500' },
      { id: 'high', name: 'High', color: 'bg-yellow-500' },
      { id: 'critical', name: 'Critical', color: 'bg-red-500' }
    ];

    // Componente de notificaciones
    const NotificationPanel = ({ notifications, isOpen, onClose, onMarkAsRead, onClearAll, onNavigateToItem }) => {
      const panelRef = useRef(null);

      // Cerrar panel al hacer clic fuera de √©l
      useEffect(() => {
        const handleClickOutside = (event) => {
          if (panelRef.current && !panelRef.current.contains(event.target) && 
              !event.target.closest('.notification-button')) {
            onClose();
          }
        };

        if (isOpen) {
          document.addEventListener('mousedown', handleClickOutside);
        }

        return () => {
          document.removeEventListener('mousedown', handleClickOutside);
        };
      }, [isOpen, onClose]);

      const unreadCount = notifications.filter(n => !n.read).length;

      if (!isOpen) return null;

      return React.createElement("div", { className: "fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end" },
        React.createElement("div", { 
          ref: panelRef,
          className: "notification-panel open w-80 bg-white shadow-xl h-full"
        },
          React.createElement("div", { className: "p-4 border-b flex justify-between items-center" },
            React.createElement("h2", { className: "text-lg font-semibold" }, "Notifications"),
            React.createElement("div", { className: "flex space-x-2" },
              unreadCount > 0 && React.createElement("button", {
                className: "text-sm text-blue-600 hover:text-blue-800",
                onClick: onMarkAsRead
              }, "Mark all as read"),
              React.createElement("button", {
                className: "text-sm text-gray-600 hover:text-gray-800",
                onClick: onClose
              }, "‚úï")
            )
          ),
          
          React.createElement("div", { className: "p-2 border-b" },
            React.createElement("button", {
              className: "text-sm text-red-600 hover:text-red-800",
              onClick: onClearAll
            }, "Clear all notifications")
          ),
          
          React.createElement("div", { className: "overflow-y-auto h-full pb-20" },
            notifications.length > 0 ? (
              notifications.map(notification => 
                React.createElement("div", {
                  key: notification.id,
                  className: `notification-item p-4 border-b ${notification.read ? '' : 'unread'}`,
                  onClick: () => onNavigateToItem(notification)
                },
                  React.createElement("div", { className: "flex justify-between items-start mb-2" },
                    React.createElement("h3", { className: "text-sm font-medium" }, notification.title),
                    React.createElement("span", { className: "text-xs text-gray-500" }, 
                      new Date(notification.timestamp).toLocaleTimeString()
                    )
                  ),
                  React.createElement("p", { className: "text-sm text-gray-600 mb-2" }, notification.message),
                  React.createElement("div", { className: "flex justify-between items-center" },
                    React.createElement("span", { className: "text-xs text-gray-500" }, 
                      new Date(notification.timestamp).toLocaleDateString()
                    ),
                    !notification.read && React.createElement("span", { 
                      className: "inline-block w-2 h-2 bg-blue-500 rounded-full"
                    })
                  )
                )
              )
            ) : (
              React.createElement("div", { className: "p-4 text-center text-gray-500" },
                "No notifications"
              )
            )
          )
        )
      );
    };

    // Modal para agregar nuevo miembro al equipo
    const AddTeamMemberModal = ({ onClose, onSave, isOpen }) => {
      const [activeTab, setActiveTab] = useState('manual');
      const [name, setName] = useState('');
      const [email, setEmail] = useState('');
      const [role, setRole] = useState(availableRoles[0]);
      const [inviteEmail, setInviteEmail] = useState('');
      const [inviteRole, setInviteRole] = useState(availableRoles[0]);

      const resetForm = () => {
        setName('');
        setEmail('');
        setRole(availableRoles[0]);
        setInviteEmail('');
        setInviteRole(availableRoles[0]);
      };

      useEffect(() => {
        if (isOpen) {
          resetForm();
        }
      }, [isOpen]);

      const handleManualSubmit = () => {
        if (name.trim() && email.trim()) {
          onSave({
            id: `user-${Date.now()}`,
            name: name.trim(),
            email: email.trim(),
            role: role,
            avatar: `https://i.pravatar.cc/100?img=${Math.floor(Math.random() * 70) + 1}`
          });
          onClose();
        }
      };

      const handleInviteSubmit = () => {
        if (inviteEmail.trim()) {
          alert(`Invitation sent to ${inviteEmail} for the role of ${inviteRole}`);
          onClose();
        }
      };

      if (!isOpen) return null;

      return React.createElement("div", { 
        className: "fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50" 
      }, 
        React.createElement("div", { 
          className: "modal-container bg-white p-6 rounded-lg shadow-lg w-96 max-h-screen overflow-y-auto"
        },
          React.createElement("h2", { 
            className: "text-xl font-semibold mb-4" 
          }, "Add Team Member"),
          
          React.createElement("div", { className: "flex border-b mb-4" },
            React.createElement("button", {
              className: `px-4 py-2 tab-button ${activeTab === 'manual' ? 'active' : ''}`,
              onClick: () => setActiveTab('manual')
            }, "Add Manually"),
            React.createElement("button", {
              className: `px-4 py-2 tab-button ${activeTab === 'invite' ? 'active' : ''}`,
              onClick: () => setActiveTab('invite')
            }, "Invite")
          ),
          
          activeTab === 'manual' ? 
            React.createElement("div", null,
              React.createElement("div", { className: "mb-4" },
                React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Name"),
                React.createElement("input", {
                  type: "text",
                  className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
                  value: name,
                  onChange: (e) => setName(e.target.value),
                  placeholder: "Enter full name"
                })
              ),
              
              React.createElement("div", { className: "mb-4" },
                React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Email"),
                React.createElement("input", {
                  type: "email",
                  className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
                  value: email,
                  onChange: (e) => setEmail(e.target.value),
                  placeholder: "Enter email address"
                })
              ),
              
              React.createElement("div", { className: "mb-4" },
                React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Role"),
                React.createElement("select", {
                  className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
                  value: role,
                  onChange: (e) => setRole(e.target.value)
                },
                  availableRoles.map(role => 
                    React.createElement("option", { key: role, value: role }, role)
                  )
                )
              ),
              
              React.createElement("div", { className: "flex justify-end space-x-2" },
                React.createElement("button", { 
                  className: "px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50", 
                  onClick: onClose 
                }, "Cancel"),
                React.createElement("button", { 
                  className: "px-4 py-2 bg-gray-800 text-white rounded-md text-sm font-medium hover:bg-gray-700", 
                  onClick: handleManualSubmit 
                }, "Add Member")
              )
            ) : 
            React.createElement("div", null,
              React.createElement("div", { className: "mb-4" },
                React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Email Address"),
                React.createElement("input", {
                  type: "email",
                  className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
                  value: inviteEmail,
                  onChange: (e) => setInviteEmail(e.target.value),
                  placeholder: "Enter email to invite"
                })
              ),
              
              React.createElement("div", { className: "mb-4" },
                React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Role"),
                React.createElement("select", {
                  className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
                  value: inviteRole,
                  onChange: (e) => setInviteRole(e.target.value)
                },
                  availableRoles.map(role => 
                    React.createElement("option", { key: role, value: role }, role)
                  )
                )
              ),
              
              React.createElement("p", { className: "text-sm text-gray-500 mb-4" }, 
                "An invitation email will be sent to this address with a link to join the team."
              ),
              
              React.createElement("div", { className: "flex justify-end space-x-2" },
                React.createElement("button", { 
                  className: "px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50", 
                  onClick: onClose 
                }, "Cancel"),
                React.createElement("button", { 
                  className: "px-4 py-2 bg-gray-800 text-white rounded-md text-sm font-medium hover:bg-gray-700", 
                  onClick: handleInviteSubmit 
                }, "Send Invitation")
              )
            )
        )
      );
    };

    // Componente para seleccionar miembros del equipo
    const TeamMemberSelector = ({ members, selectedMembers, onSelectionChange, onAddNewMember }) => {
      const [searchTerm, setSearchTerm] = useState('');

      const filteredMembers = members.filter(member => 
        member.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
        member.role.toLowerCase().includes(searchTerm.toLowerCase())
      );

      const toggleMemberSelection = (memberId) => {
        if (selectedMembers.includes(memberId)) {
          onSelectionChange(selectedMembers.filter(id => id !== memberId));
        } else {
          onSelectionChange([...selectedMembers, memberId]);
        }
      };

      return React.createElement("div", { className: "team-selector border rounded-lg p-4 bg-gray-50" },
        React.createElement("div", { className: "flex justify-between items-center mb-3" },
          React.createElement("h3", { className: "text-sm font-medium text-gray-700" }, "Assign Team Members"),
          React.createElement("button", {
            className: "text-xs text-blue-600 hover:text-blue-800 font-medium",
            onClick: onAddNewMember
          }, "+ Add New Member")
        ),
        
        React.createElement("div", { className: "mb-3" },
          React.createElement("input", {
            type: "text",
            placeholder: "Search team members...",
            className: "w-full p-2 border rounded-md text-sm",
            value: searchTerm,
            onChange: (e) => setSearchTerm(e.target.value)
          })
        ),
        
        React.createElement("div", { className: "max-h-40 overflow-y-auto" },
          filteredMembers.length > 0 ? (
            filteredMembers.map(member => 
              React.createElement("div", {
                key: member.id,
                className: `flex items-center p-2 rounded-md cursor-pointer team-member ${selectedMembers.includes(member.id) ? 'bg-blue-100' : ''}`,
                onClick: () => toggleMemberSelection(member.id)
              },
                React.createElement("img", {
                  src: member.avatar,
                  alt: member.name,
                  className: `avatar mr-3 ${selectedMembers.includes(member.id) ? 'selected-member' : ''}`
                }),
                React.createElement("div", { className: "flex-1" },
                  React.createElement("p", { className: "text-sm font-medium" }, member.name),
                  React.createElement("p", { className: "text-xs text-gray-500" }, member.role)
                ),
                React.createElement("input", {
                  type: "checkbox",
                  checked: selectedMembers.includes(member.id),
                  onChange: () => toggleMemberSelection(member.id),
                  className: "h-4 w-4 text-blue-600 rounded"
                })
              )
            )
          ) : (
            React.createElement("p", { className: "text-sm text-gray-500 text-center py-2" }, "No team members found")
          )
        ),
        
        React.createElement("div", { className: "mt-3" },
          React.createElement("p", { className: "text-xs text-gray-500" },
            selectedMembers.length > 0 
              ? `Selected ${selectedMembers.length} team member(s)` 
              : "No team members selected"
          )
        )
      );
    };

    // Modal para crear/editar proyectos
    const ProjectModal = ({ project, onClose, onSave, isOpen, teamMembers, onAddNewMember }) => {
      const [name, setName] = useState(project?.name || '');
      const [description, setDescription] = useState(project?.description || '');
      const [tags, setTags] = useState(project?.tags || []);
      const [assignees, setAssignees] = useState(project?.assignees || []);
      const [newTag, setNewTag] = useState('');

      useEffect(() => {
        if (project) {
          setName(project.name);
          setDescription(project.description);
          setTags(project.tags || []);
          setAssignees(project.assignees || []);
        } else {
          setName('');
          setDescription('');
          setTags([]);
          setAssignees([]);
        }
      }, [project, isOpen]);

      const handleSubmit = () => {
        if (name.trim()) {
          onSave({
            id: project?.id || `project-${Date.now()}`,
            name: name.trim(),
            description: description.trim(),
            tags: tags,
            assignees: assignees,
            issues: project?.issues || []
          });
          onClose();
        }
      };

      const handleAddTag = () => {
        if (newTag.trim() && !tags.includes(newTag.trim())) {
          setTags([...tags, newTag.trim()]);
          setNewTag('');
        }
      };

      const handleRemoveTag = (tagToRemove) => {
        setTags(tags.filter(tag => tag !== tagToRemove));
      };

      if (!isOpen) return null;

      return React.createElement("div", { 
        className: "fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50" 
      }, 
        React.createElement("div", { 
          className: "modal-container bg-white p-4 md:p-8 rounded-lg shadow-lg w-11/12 md:w-96 max-h-screen overflow-y-auto" 
        },
          React.createElement("h2", { 
            className: "text-xl font-semibold mb-4" 
          }, project ? "Edit Project" : "Create Project"),
          
          React.createElement("div", { className: "mb-4" },
            React.createElement("label", { 
              htmlFor: "projectName", 
              className: "block text-sm font-medium text-gray-700 mb-1" 
            }, "Project Name"),
            React.createElement("input", {
              type: "text",
              id: "projectName",
              className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
              value: name,
              onChange: (e) => setName(e.target.value),
              placeholder: "e.g., Website Redesign"
            })
          ),
          
          React.createElement("div", { className: "mb-4" },
            React.createElement("label", { 
              htmlFor: "projectDescription", 
              className: "block text-sm font-medium text-gray-700 mb-1" 
            }, "Description"),
            React.createElement("textarea", {
              id: "projectDescription",
              rows: "3",
              className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
              value: description,
              onChange: (e) => setDescription(e.target.value),
              placeholder: "Project description..."
            })
          ),
          
          React.createElement("div", { className: "mb-4" },
            React.createElement(TeamMemberSelector, {
              members: teamMembers,
              selectedMembers: assignees,
              onSelectionChange: setAssignees,
              onAddNewMember: onAddNewMember
            })
          ),
          
          React.createElement("div", { className: "mb-4" },
            React.createElement("label", { 
              className: "block text-sm font-medium text-gray-700 mb-1" 
            }, "Tags"),
            
            React.createElement("div", { className: "flex flex-wrap gap-2 mb-2" },
              tags.map(tag => 
                React.createElement("span", { 
                  key: tag,
                  className: "inline-flex items-center px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full"
                },
                  tag,
                  React.createElement("button", {
                    type: "button",
                    className: "ml-1 text-blue-500 hover:text-blue-700",
                    onClick: () => handleRemoveTag(tag)
                  }, "√ó")
                )
              )
            ),
            
            React.createElement("div", { className: "flex" },
              React.createElement("input", {
                type: "text",
                className: "flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
                value: newTag,
                onChange: (e) => setNewTag(e.target.value),
                placeholder: "Add new tag",
                onKeyPress: (e) => e.key === 'Enter' && handleAddTag()
              }),
              React.createElement("button", {
                type: "button",
                className: "ml-2 px-3 py-2 bg-gray-800 text-white rounded-md text-sm font-medium hover:bg-gray-700",
                onClick: handleAddTag
              }, "Add")
            ),
            
            React.createElement("div", { className: "mt-2" },
              React.createElement("p", { className: "text-xs text-gray-500 mb-1" }, "Suggested tags:"),
              React.createElement("div", { className: "flex flex-wrap gap-1" },
                availableTags
                  .filter(tag => !tags.includes(tag))
                  .map(tag => 
                    React.createElement("button", {
                      key: tag,
                      type: "button",
                      className: "px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full hover:bg-gray-200",
                      onClick: () => {
                        if (!tags.includes(tag)) {
                          setTags([...tags, tag]);
                        }
                      }
                    }, tag)
                  )
              )
            )
          ),
          
          React.createElement("div", { className: "flex justify-end space-x-2" },
            React.createElement("button", { 
              className: "px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50", 
              onClick: onClose 
            }, "Cancel"),
            React.createElement("button", { 
              className: "px-4 py-2 bg-gray-800 text-white rounded-md text-sm font-medium hover:bg-gray-700", 
              onClick: handleSubmit 
            }, project ? "Save Changes" : "Create Project")
          )
        )
      );
    };

    // Modal para crear/editar tareas
    const TaskModal = ({ task, onClose, onSave, isOpen, teamMembers, projectId, currentUser, onNotification }) => {
      const [title, setTitle] = useState(task?.title || '');
      const [description, setDescription] = useState(task?.description || '');
      const [tag, setTag] = useState(task?.tag || 'Feature Request');
      const [assignee, setAssignee] = useState(task?.assignee || '');
      const [status, setStatus] = useState(task?.status || 'todo');
      const [priority, setPriority] = useState(task?.priority || 'medium');
      const [previousAssignee, setPreviousAssignee] = useState(task?.assignee || '');

      useEffect(() => {
        if (task) {
          setTitle(task.title);
          setDescription(task.description || '');
          setTag(task.tag);
          setAssignee(task.assignee);
          setStatus(task.status);
          setPriority(task.priority);
          setPreviousAssignee(task.assignee || '');
        } else {
          setTitle('');
          setDescription('');
          setTag('Feature Request');
          setAssignee('');
          setStatus('todo');
          setPriority('medium');
          setPreviousAssignee('');
        }
      }, [task, isOpen]);

      const handleSubmit = () => {
        if (title.trim()) {
          const newTask = {
            id: task?.id || `issue-${Date.now()}`,
            title: title.trim(),
            description: description.trim(),
            tag: tag,
            assignee: assignee,
            status: status,
            priority: priority,
            date: task?.date || new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric' }),
            projectId: projectId,
            createdAt: task?.createdAt || new Date().toISOString(),
            updatedAt: new Date().toISOString()
          };
          
          onSave(newTask);
          
          // Notificar si se asign√≥ a un nuevo usuario
          if (assignee && assignee !== previousAssignee && assignee !== currentUser.avatar) {
            const assignedUser = teamMembers.find(member => member.avatar === assignee);
            if (assignedUser) {
              onNotification({
                id: `notif-${Date.now()}`,
                type: 'assignment',
                title: 'New Task Assignment',
                message: `You've been assigned to task: "${title.trim()}"`,
                timestamp: new Date().toISOString(),
                read: false,
                userId: assignedUser.id,
                taskId: newTask.id,
                projectId: projectId
              });
            }
          }
          
          onClose();
        }
      };

      if (!isOpen) return null;

      return React.createElement("div", { className: "fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center z-50" }, 
        React.createElement("div", { className: "modal-container bg-white p-4 md:p-8 rounded-lg shadow-lg w-11/12 md:w-96 max-h-screen overflow-y-auto" },
          React.createElement("h2", { className: "text-xl font-semibold mb-4" }, task ? "Edit Task" : "Create New Task"),
          
          React.createElement("div", { className: "mb-4" },
            React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Task Title"),
            React.createElement("input", {
              type: "text",
              className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
              value: title,
              onChange: (e) => setTitle(e.target.value),
              placeholder: "e.g., Fix login bug"
            })
          ),
          
          React.createElement("div", { className: "mb-4" },
            React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Description"),
            React.createElement("textarea", {
              rows: "3",
              className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
              value: description,
              onChange: (e) => setDescription(e.target.value),
              placeholder: "Task description..."
            })
          ),
          
          React.createElement("div", { className: "mb-4" },
            React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Tag"),
            React.createElement("select", {
              className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
              value: tag,
              onChange: (e) => setTag(e.target.value)
              },
              availableTags.map(tag => 
                React.createElement("option", { key: tag, value: tag }, tag)
              )
            )
          ),
          
          React.createElement("div", { className: "mb-4" },
            React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Assignee"),
            React.createElement("select", {
              className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
              value: assignee,
              onChange: (e) => setAssignee(e.target.value)
            },
              React.createElement("option", { value: "" }, "Unassigned"),
              teamMembers.map(member => 
                React.createElement("option", { key: member.id, value: member.avatar }, member.name)
              )
            )
          ),
          
          React.createElement("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-4 mb-4" },
            React.createElement("div", null,
              React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Status"),
              React.createElement("select", {
                className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
                value: status,
                onChange: (e) => setStatus(e.target.value)
              },
                statusOptions.map(status => 
                  React.createElement("option", { key: status.id, value: status.id }, status.name)
                )
              )
            ),
            React.createElement("div", null,
              React.createElement("label", { className: "block text-sm font-medium text-gray-700 mb-1" }, "Priority"),
              React.createElement("select", {
                className: "block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2",
                value: priority,
                onChange: (e) => setPriority(e.target.value)
              },
                priorityOptions.map(priority => 
                  React.createElement("option", { key: priority.id, value: priority.id }, priority.name)
                )
              )
            )
          ),
          
          React.createElement("div", { className: "flex justify-end space-x-2" },
            React.createElement("button", { 
              className: "px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50", 
              onClick: onClose 
            }, "Cancel"),
            React.createElement("button", { 
              className: "px-4 py-2 bg-gray-800 text-white rounded-md text-sm font-medium hover:bg-gray-700", 
              onClick: handleSubmit 
            }, task ? "Save Changes" : "Create Task")
          )
        )
      );
    };

    // Componente principal de la aplicaci√≥n
    const App = () => {
      const [projects, setProjects] = useState(initialProjects);
      const [teamMembers, setTeamMembers] = useState(initialTeamMembers);
      const [selectedProject, setSelectedProject] = useState(initialProjects[0]?.id || null);
      const [activeView, setActiveView] = useState('kanban');
      const [showProjectModal, setShowProjectModal] = useState(false);
      const [showAddMemberModal, setShowAddMemberModal] = useState(false);
      const [showTaskModal, setShowTaskModal] = useState(false);
      const [showNotifications, setShowNotifications] = useState(false);
      const [editingProject, setEditingProject] = useState(null);
      const [editingTask, setEditingTask] = useState(null);
      const [selectedIssueFilter, setSelectedIssueFilter] = useState('All');
      const [selectedTagFilter, setSelectedTagFilter] = useState(null);
      const [searchTerm, setSearchTerm] = useState('');
      const [notifications, setNotifications] = useState([]);
      const [currentUser] = useState(initialTeamMembers[0]); // Usuario actual simulado
      const [isSidebarOpen, setIsSidebarOpen] = useState(false);

      // Obtener el proyecto seleccionado
      const currentProject = projects.find(p => p.id === selectedProject) || projects[0];

      // Efecto para notificaciones autom√°ticas cada hora
      useEffect(() => {
        const checkForTaskNotifications = () => {
          const now = new Date();
          const oneHourAgo = new Date(now.getTime() - 60 * 60 * 1000);
          const twentyFourHoursAgo = new Date(now.getTime() - 24 * 60 * 60 * 1000);
          
          let newNotifications = [];
          
          // Revisar todas las tareas en todos los proyectos
          projects.forEach(project => {
            project.issues.forEach(issue => {
              const updatedAt = new Date(issue.updatedAt);
              const createdAt = new Date(issue.createdAt);
              
              // Notificar si la tarea lleva m√°s de 24 horas en el mismo estado
              if (updatedAt < twentyFourHoursAgo && issue.status !== 'done' && issue.status !== 'cancelled') {
                newNotifications.push({
                  id: `notif-${project.id}-${issue.id}-stale`,
                  type: 'stale_task',
                  title: 'Task Stale Alert',
                  message: `Task "${issue.title}" has been in ${statusOptions.find(s => s.id === issue.status)?.name} status for over 24 hours`,
                  timestamp: new Date().toISOString(),
                  read: false,
                  projectId: project.id,
                  taskId: issue.id
                });
              }
              
              // Notificar si la tarea fue creada hace m√°s de 2 horas y sigue en "To Do"
              if (createdAt < oneHourAgo && issue.status === 'todo') {
                newNotifications.push({
                  id: `notif-${project.id}-${issue.id}-inactive`,
                  type: 'inactive_task',
                  title: 'Task Inactivity Alert',
                  message: `Task "${issue.title}" has been in To Do status for over 1 hour`,
                  timestamp: new Date().toISOString(),
                  read: false,
                  projectId: project.id,
                  taskId: issue.id
                });
              }
            });
          });
          
          if (newNotifications.length > 0) {
            setNotifications(prev => [...newNotifications, ...prev]);
          }
        };
        
        // Ejecutar inmediatamente y luego cada hora
        checkForTaskNotifications();
        const interval = setInterval(checkForTaskNotifications, 60 * 60 * 1000);
        
        return () => clearInterval(interval);
      }, [projects]);

      // Funci√≥n para navegar a un elemento desde una notificaci√≥n
      const handleNavigateFromNotification = (notification) => {
        // Cerrar el panel de notificaciones
        setShowNotifications(false);
        
        // Marcar la notificaci√≥n como le√≠da
        setNotifications(notifications.map(n => 
          n.id === notification.id ? { ...n, read: true } : n
        ));
        
        // Si la notificaci√≥n est√° relacionada con un proyecto
        if (notification.projectId) {
          // Seleccionar el proyecto
          setSelectedProject(notification.projectId);
          
          // Cerrar sidebar en m√≥viles
          setIsSidebarOpen(false);
          
          // Esperar a que el proyecto se cargue y luego buscar la tarea
          setTimeout(() => {
            // Si la notificaci√≥n est√° relacionada con una tarea
            if (notification.taskId) {
              // Buscar la tarea en el proyecto actual
              const taskElement = document.querySelector(`[data-task-id="${notification.taskId}"]`);
              if (taskElement) {
                // Desplazarse a la tarea y resaltarla
                taskElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                taskElement.classList.add('highlight-element');
                
                // Quitar el resaltado despu√©s de 2 segundos
                setTimeout(() => {
                  taskElement.classList.remove('highlight-element');
                }, 2000);
              }
            }
          }, 100);
        }
      };

      // Obtener informaci√≥n de los asignados para el proyecto actual
      const getAssigneeInfo = (assigneeIds) => {
        return assigneeIds.map(id => teamMembers.find(member => member.id === id));
      };

      // Manejar el movimiento de tareas
      const handleMoveTask = (task, newStatus) => {
        setProjects(projects.map(project => {
          if (project.id === selectedProject) {
            return {
              ...project,
              issues: project.issues.map(issue => 
                issue.id === task.id ? { 
                  ...issue, 
                  status: newStatus,
                  updatedAt: new Date().toISOString()
                } : issue
              )
            };
          }
          return project;
        }));
        
        // Notificar cambio de estado
        setNotifications(prev => [{
          id: `notif-${task.id}-status`,
          type: 'status_change',
          title: 'Task Status Updated',
          message: `Task "${task.title}" moved to ${statusOptions.find(s => s.id === newStatus)?.name}`,
          timestamp: new Date().toISOString(),
          read: false,
          projectId: selectedProject,
          taskId: task.id
        }, ...prev]);
      };

      // Manejar la creaci√≥n/edici√≥n de proyectos
      const handleSaveProject = (projectData) => {
        if (projects.some(p => p.id === projectData.id)) {
          // Editar proyecto existente
          setProjects(projects.map(p => 
            p.id === projectData.id ? projectData : p
          ));
        } else {
          // Crear nuevo proyecto
          setProjects([...projects, projectData]);
          setSelectedProject(projectData.id);
        }
        setShowProjectModal(false);
        setEditingProject(null);
      };

      // Manejar la adici√≥n de nuevos miembros al equipo
      const handleAddTeamMember = (memberData) => {
        setTeamMembers([...teamMembers, memberData]);
        setShowAddMemberModal(false);
      };

      // Manejar la eliminaci√≥n de miembros del equipo
      const handleRemoveTeamMember = (memberId) => {
        if (window.confirm("Are you sure you want to remove this team member?")) {
          // Remover de todos los proyectos
          const updatedProjects = projects.map(project => ({
            ...project,
            assignees: project.assignees.filter(id => id !== memberId)
          }));
          
          setProjects(updatedProjects);
          setTeamMembers(teamMembers.filter(member => member.id !== memberId));
        }
      };

      // Manejar la creaci√≥n/edici√≥n de tareas
      const handleSaveTask = (taskData) => {
        setProjects(projects.map(project => {
          if (project.id === taskData.projectId) {
            if (taskData.id && project.issues.some(issue => issue.id === taskData.id)) {
              // Editar tarea existente
              return {
                ...project,
                issues: project.issues.map(issue => 
                  issue.id === taskData.id ? taskData : issue
                )
              };
            } else {
              // Crear nueva tarea
              return {
                ...project,
                issues: [...project.issues, taskData]
              };
            }
          }
          return project;
        }));
        setShowTaskModal(false);
        setEditingTask(null);
      };

      // Manejar la eliminaci√≥n de proyectos
      const handleDeleteProject = (projectId) => {
        if (window.confirm("Are you sure you want to delete this project? All tasks will be lost.")) {
          const newProjects = projects.filter(p => p.id !== projectId);
          setProjects(newProjects);
          
          if (selectedProject === projectId) {
            setSelectedProject(newProjects[0]?.id || null);
          }
        }
      };

      // Manejar notificaciones
      const handleAddNotification = (notification) => {
        setNotifications(prev => [notification, ...prev]);
      };

      const handleMarkAsRead = () => {
        setNotifications(notifications.map(n => ({ ...n, read: true })));
      };

      const handleClearAll = () => {
        setNotifications([]);
      };

      // Filtrar issues seg√∫n los filtros seleccionados
      const filteredIssues = currentProject ? currentProject.issues.filter(issue => {
        const matchesSearch = issue.title.toLowerCase().includes(searchTerm.toLowerCase());
        const matchesTagFilter = selectedTagFilter === null || issue.tag === selectedTagFilter;
        return matchesSearch && matchesTagFilter;
      }) : [];

      const unreadNotifications = notifications.filter(n => !n.read).length;

      return React.createElement("div", { className: "App" },
        React.createElement("div", { className: "h-screen flex" },
          // Overlay para m√≥viles
          React.createElement("div", {
            className: `overlay ${isSidebarOpen ? 'active' : ''}`,
            onClick: () => setIsSidebarOpen(false)
          }),
          
          // Barra lateral
          React.createElement("div", { 
            className: `sidebar fixed md:relative w-64 px-8 py-4 bg-gray-100 border-r overflow-auto md:translate-x-0 ${isSidebarOpen ? '' : 'sidebar-mobile-hidden'}` 
          },
            React.createElement("div", { className: "flex justify-between items-center" },
              React.createElement("img", { className: "h-8 w-8", src: "https://i.pravatar.cc/100", alt: "logo" }),
              React.createElement("button", {
                className: "text-sm text-blue-600 hover:text-blue-800 font-medium",
                onClick: () => setShowAddMemberModal(true)
              }, "+ Add Member")
            ),
            
            React.createElement("nav", { className: "mt-8" },
              React.createElement("h3", { className: "text-xs font-semibold text-gray-600 uppercase tracking-wide text-left" }, "Projects"),
              
              React.createElement("div", { className: "mt-2 -mx-3" },
                projects.map(project => 
                  React.createElement("div", { 
                    key: project.id,
                    className: `flex justify-between items-center px-3 py-2 rounded-lg ${selectedProject === project.id ? 'bg-gray-200' : ''}`
                  },
                    React.createElement("button", {
                      className: "flex-1 text-left text-sm font-medium text-gray-900",
                      onClick: () => {
                        setSelectedProject(project.id);
                        setIsSidebarOpen(false);
                      }
                    }, project.name),
                    React.createElement("div", { className: "flex space-x-1" },
                      React.createElement("button", {
                        className: "text-gray-500 hover:text-gray-700",
                        onClick: (e) => {
                          e.stopPropagation();
                          setEditingProject(project);
                          setShowProjectModal(true);
                        }
                      }, "‚úèÔ∏è"),
                      React.createElement("button", {
                        className: "text-gray-500 hover:text-red-500",
                        onClick: (e) => {
                          e.stopPropagation();
                          handleDeleteProject(project.id);
                        }
                      }, "üóëÔ∏è")
                    )
                  )
                )
              ),
              
              React.createElement("button", {
                className: "mt-4 -ml-1 flex items-center text-sm font-medium text-gray-600 hover:text-gray-900",
                onClick: () => {
                  setEditingProject(null);
                  setShowProjectModal(true);
                }
              },
                React.createElement("svg", { className: "h-5 w-5 text-gray-500", viewBox: "0 0 24 24", fill: "none" },
                  React.createElement("path", {
                    stroke: "currentColor",
                    strokeWidth: "2",
                    strokeLinecap: "round",
                    d: "M12 7v10m5-5H7"
                  })
                ),
                React.createElement("span", { className: "ml-1" }, "Create Project")
              )
            ),
            
            React.createElement("nav", { className: "mt-8" },
              React.createElement("h3", { className: "text-xs font-semibold text-gray-600 uppercase tracking-wide text-left" }, "Team Members"),
              React.createElement("div", { className: "mt-2 -mx-3 max-h-40 overflow-y-auto" },
                teamMembers.map(member => 
                  React.createElement("div", {
                    key: member.id,
                    className: "flex items-center px-3 py-2 rounded-lg justify-between group"
                  },
                    React.createElement("div", { className: "flex items-center flex-1" },
                      React.createElement("img", {
                        src: member.avatar,
                        alt: member.name,
                        className: "avatar mr-3"
                      }),
                      React.createElement("div", { className: "flex-1 truncate" },
                        React.createElement("p", { className: "text-sm font-medium text-gray-900 truncate" }, member.name),
                        React.createElement("p", { className: "text-xs text-gray-500 truncate" }, member.role)
                      )
                    ),
                    React.createElement("button", {
                      className: "text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100",
                      onClick: () => handleRemoveTeamMember(member.id),
                      title: "Remove member"
                    }, "üóëÔ∏è")
                  )
                )
              )
            ),
            
            React.createElement("nav", { className: "mt-8" },
              React.createElement("h3", { className: "text-xs font-semibold text-gray-600 uppercase tracking-wide text-left" }, "Tags"),
              React.createElement("div", { className: "mt-2 -mx-3" },
                availableTags.map(tag => 
                  React.createElement("button", {
                    key: tag,
                    className: `flex justify-between items-center px-3 py-2 rounded-lg w-full text-left ${selectedTagFilter === tag ? 'bg-gray-200' : ''}`,
                    onClick: () => { 
                      setSelectedTagFilter(selectedTagFilter === tag ? null : tag);
                      setSelectedIssueFilter('All');
                    }
                  },
                    React.createElement("span", { className: "text-sm font-medium text-gray-700" }, tag)
                  )
                )
              )
            )
          ),
          
          // Contenido principal
          React.createElement("div", { className: "flex-1 min-w-0 bg-white flex flex-col" },
            React.createElement("div", { className: "flex-shrink-0 border-b-2 border-gray-200" },
              React.createElement("header", { className: "px-4 md:px-6" },
                React.createElement("div", { className: "flex justify-between items-center border-b border-gray-200 py-2" },
                  React.createElement("div", { className: "flex items-center" },
                    React.createElement("button", {
                      className: "md:hidden mr-2 text-gray-500",
                      onClick: () => setIsSidebarOpen(!isSidebarOpen)
                    },
                      React.createElement("svg", { className: "h-6 w-6", fill: "none", viewBox: "0 0 24 24", stroke: "currentColor" },
                        React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", strokeWidth: "2", d: "M4 6h16M4 12h16M4 18h16" })
                      )
                    ),
                    React.createElement("div", { className: "relative search-input w-40 md:w-64" },
                      React.createElement("span", { className: "absolute pl-3 inset-y-0 left-0 flex items-center" },
                        React.createElement("svg", { className: "h-6 w-6 text-gray-600", viewBox: "0 0 24 24", fill: "none" },
                          React.createElement("path", {
                            stroke: "currentColor",
                            strokeWidth: "2",
                            strokeLinecap: "round",
                            d: "M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                          })
                        )
                      ),
                      React.createElement("input", {
                        className: "block w-full rounded-lg border border-gray-400 pl-10 pr-4 py-2 text-gray-900 text-sm placeholder-gray-600",
                        placeholder: "Search tasks...",
                        value: searchTerm,
                        onChange: (e) => setSearchTerm(e.target.value)
                      })
                    )
                  ),
                  
                  React.createElement("div", { className: "flex items-center" },
                    React.createElement("button", { 
                      className: "relative notification-button mr-4",
                      onClick: () => setShowNotifications(!showNotifications)
                    },
                      React.createElement("svg", { className: "h-5 w-5 text-gray-500", xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 512 512" },
                        React.createElement("path", { 
                          stroke: "currentColor", 
                          d: "M468 392h-20c-10.384 0-18.709-3.609-24.745-10.728-7.363-8.684-11.255-22.386-11.255-39.626V204c0-78.818-59.543-144.777-136-154.699V0h-40v49.301C159.543 59.223 100 125.181 100 204v144c0 14.175-3.734 25.775-10.799 33.546C82.984 388.385 74.27 392 64 392H44v56h161.413A51.888 51.888 0 00204 460c0 28.673 23.327 52 52 52s52-23.327 52-52c0-4.131-.499-8.145-1.413-12H468v-56zm-212 80c-6.617 0-12-5.383-12-12s5.383-12 12-12 12 5.383 12 12-5.383 12-12 12zm-136.792-64C132.813 392.784 140 372.052 140 348V204c0-63.067 51.263-115.072 114.302-115.987h3.396C320.737 88.928 372 140.933 372 204v137.646c0 26.84 7.174 49.488 20.745 65.494.245.289.492.576.741.860H119.208z" 
                        })
                      ),
                      unreadNotifications > 0 && React.createElement("span", { className: "notification-badge" }, unreadNotifications)
                    ),
                    
                    React.createElement("button", { className: "ml-2" },
                      React.createElement("img", { className: "h-8 w-8 rounded-full object-cover", src: currentUser.avatar, alt: "avatar" })
                    )
                  )
                ),
                
                React.createElement("div", { className: "flex flex-col md:flex-row md:justify-between md:items-center py-2 header-actions" },
                  React.createElement("div", { className: "flex items-center mb-2 md:mb-0" },
                    React.createElement("h2", { className: "project-title text-xl md:text-2xl font-semibold text-gray-900 leading-tight" }, 
                      currentProject ? currentProject.name : "No Project Selected"
                    ),
                    React.createElement("button", {
                      className: "ml-4 text-sm text-blue-600 hover:text-blue-800",
                      onClick: () => {
                        setEditingProject(currentProject);
                        setShowProjectModal(true);
                      }
                    }, "Edit")
                  ),
                  
                  React.createElement("div", { className: "flex items-center space-x-4 view-toggle" },
                    React.createElement("div", { className: "flex bg-gray-100 rounded-md p-1" },
                      React.createElement("button", {
                        className: `px-3 py-1 text-sm rounded ${activeView === 'list' ? 'bg-white shadow' : 'text-gray-600'}`,
                        onClick: () => setActiveView('list')
                      }, "List View"),
                      React.createElement("button", {
                        className: `px-3 py-1 text-sm rounded ${activeView === 'kanban' ? 'bg-white shadow' : 'text-gray-600'}`,
                        onClick: () => setActiveView('kanban')
                      }, "Kanban Board")
                    ),
                    
                    React.createElement("button", {
                      className: "flex items-center pl-2 pr-4 py-1 text-sm font-medium text-white bg-gray-800 rounded hover:bg-gray-700",
                      onClick: () => {
                        setEditingTask(null);
                        setShowTaskModal(true);
                      },
                      disabled: !currentProject
                    },
                      React.createElement("svg", { className: "h-5 w-5", viewBox: "0 0 24 24", fill: "none" },
                        React.createElement("path", {
                          stroke: "currentColor",
                          strokeWidth: "2",
                          strokeLinecap: "round",
                          d: "M12 7v10m5-5H7"
                        })
                      ),
                      React.createElement("span", { className: "ml-1" }, "New Task")
                    )
                  )
                )
              )
            ),
            
            // √Årea de contenido
            React.createElement("div", { className: "flex-1 overflow-auto" },
              currentProject ? (
                React.createElement("div", null,
                  React.createElement("div", { className: "p-4 border-b" },
                    React.createElement("p", { className: "text-gray-600" }, currentProject.description),
                    
                    React.createElement("div", { className: "flex items-center mt-2" },
                      React.createElement("h3", { className: "text-sm font-medium text-gray-700 mr-2" }, "Assigned to:"),
                      React.createElement("div", { className: "flex -space-x-2" },
                        getAssigneeInfo(currentProject.assignees).map(member => 
                          member ? React.createElement("img", {
                            key: member.id,
                            src: member.avatar,
                            alt: member.name,
                            className: "avatar border-2 border-white",
                            title: `${member.name} (${member.role})`
                          }) : null
                        )
                      )
                    ),
                    
                    React.createElement("div", { className: "flex flex-wrap gap-2 mt-2" },
                      currentProject.tags.map(tag => 
                        React.createElement("span", { 
                          key: tag,
                          className: "px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full"
                        }, tag)
                      )
                    )
                  ),
                  
                  activeView === 'kanban' ? 
                    React.createElement("div", { 
                      className: "p-4"
                    },
                      React.createElement("div", { className: "kanban-grid grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4" },
                        statusOptions.map(status => {
                          const statusIssues = filteredIssues.filter(issue => issue.status === status.id);
                          return React.createElement("div", {
                            key: status.id,
                            className: `kanban-column rounded-lg p-4`,
                            onDragOver: (e) => {
                              e.preventDefault();
                            },
                            onDrop: (e) => {
                              e.preventDefault();
                              const taskId = e.dataTransfer.getData('text/plain');
                              const task = filteredIssues.find(t => t.id === taskId);
                              if (task && task.status !== status.id) {
                                handleMoveTask(task, status.id);
                              }
                            }
                          },
                            React.createElement("div", { className: "flex items-center mb-4" },
                              React.createElement("span", { className: `w-3 h-3 rounded-full ${status.color} mr-2` }),
                              React.createElement("h3", { className: "font-medium text-gray-700" }, status.name),
                              React.createElement("span", { className: "ml-2 bg-gray-200 text-gray-700 text-xs font-medium rounded-full px-2 py-1" }, 
                                statusIssues.length
                              )
                            ),
                            
                            React.createElement("div", { className: "space-y-3" },
                              statusIssues.map(issue => 
                                React.createElement("div", {
                                  key: issue.id,
                                  "data-task-id": issue.id,
                                  className: `task-card bg-white p-4 rounded shadow status-${issue.status}`,
                                  draggable: true,
                                  onDragStart: (e) => {
                                    e.dataTransfer.setData('text/plain', issue.id);
                                    e.target.classList.add('dragging');
                                  },
                                  onDragEnd: (e) => {
                                    e.target.classList.remove('dragging');
                                  }
                                },
                                  React.createElement("div", { className: "flex justify-between items-start mb-2" },
                                    React.createElement("h4", { className: "text-sm font-medium text-gray-900" }, issue.title),
                                    React.createElement("span", { className: `text-xs font-medium px-2 py-1 rounded-full ${priorityOptions.find(p => p.id === issue.priority)?.color || 'bg-gray-500'} text-white` },
                                      priorityOptions.find(p => p.id === issue.priority)?.name || 'Medium'
                                    )
                                  ),
                                  
                                  React.createElement("p", { className: "text-xs text-gray-500 mb-3" }, issue.description || "No description available"),
                                  
                                  React.createElement("div", { className: "flex justify-between items-center" },
                                    React.createElement("span", { className: "text-xs text-gray-500" }, issue.date),
                                    React.createElement("div", { className: "flex items-center" },
                                      React.createElement("span", { className: "text-xs bg-teal-100 text-teal-900 px-2 py-1 rounded mr-2" }, issue.tag),
                                      issue.assignee && React.createElement("img", {
                                        src: issue.assignee,
                                        alt: "Assignee",
                                        className: "h-6 w-6 rounded-full"
                                      })
                                    )
                                  ),
                                  
                                  React.createElement("button", {
                                    className: "w-full mt-3 text-xs text-blue-600 hover:text-blue-800",
                                    onClick: () => {
                                      setEditingTask(issue);
                                      setShowTaskModal(true);
                                    }
                                  }, "Edit Task")
                                )
                              )
                            )
                          );
                        })
                      )
                    ) : 
                    React.createElement("div", { className: "p-4" },
                      React.createElement("h3", { className: "text-lg font-medium text-gray-900 mb-4" }, "Tasks"),
                      
                      React.createElement("div", { className: "grid grid-cols-1 gap-4" },
                        filteredIssues.length > 0 ? (
                          filteredIssues.map(issue => 
                            React.createElement("div", { 
                              key: issue.id,
                              "data-task-id": issue.id,
                              className: "p-4 bg-white rounded shadow"
                            },
                              React.createElement("div", { className: "flex justify-between items-start mb-2" },
                                React.createElement("h4", { className: "text-sm font-medium text-gray-900" }, issue.title),
                                React.createElement("div", { className: "flex items-center space-x-2" },
                                  React.createElement("span", { className: `text-xs font-medium px-2 py-1 rounded-full ${priorityOptions.find(p => p.id === issue.priority)?.color || 'bg-gray-500'} text-white` },
                                    priorityOptions.find(p => p.id === issue.priority)?.name || 'Medium'
                                  ),
                                  React.createElement("span", { className: `text-xs font-medium px-2 py-1 rounded-full ${statusOptions.find(s => s.id === issue.status)?.color || 'bg-gray-500'} text-white` },
                                    statusOptions.find(s => s.id === issue.status)?.name || 'To Do'
                                  )
                                )
                              ),
                              
                              React.createElement("p", { className: "text-xs text-gray-500 mb-3" }, issue.description || "No description"),
                              
                              React.createElement("div", { className: "flex justify-between items-center" },
                                React.createElement("div", { className: "flex items-center" },
                                  React.createElement("span", { className: "text-xs text-gray-500 mr-3" }, issue.date),
                                  React.createElement("span", { className: "text-xs bg-teal-100 text-teal-900 px-2 py-1 rounded" }, issue.tag)
                                ),
                                React.createElement("div", { className: "flex items-center" },
                                  issue.assignee && React.createElement("img", {
                                    src: issue.assignee,
                                    alt: "Assignee",
                                    className: "h-6 w-6 rounded-full mr-2"
                                  }),
                                  React.createElement("button", {
                                    className: "text-xs text-blue-600 hover:text-blue-800",
                                    onClick: () => {
                                      setEditingTask(issue);
                                      setShowTaskModal(true);
                                    }
                                  }, "Edit")
                                )
                              )
                            )
                          )
                        ) : (
                          React.createElement("p", { className: "text-gray-500 text-center py-8" }, "No tasks found")
                        )
                      )
                    )
                )
              ) : (
                React.createElement("div", { className: "flex flex-col items-center justify-center h-full" },
                  React.createElement("p", { className: "text-gray-500 mb-4" }, "No project selected"),
                  React.createElement("button", {
                    className: "px-4 py-2 bg-gray-800 text-white rounded-md text-sm font-medium hover:bg-gray-700",
                    onClick: () => {
                      setEditingProject(null);
                      setShowProjectModal(true);
                    }
                  }, "Create your first project")
                )
              )
            )
          )
        ),
        
        // Panel de notificaciones
        React.createElement(NotificationPanel, {
          notifications: notifications,
          isOpen: showNotifications,
          onClose: () => setShowNotifications(false),
          onMarkAsRead: handleMarkAsRead,
          onClearAll: handleClearAll,
          onNavigateToItem: handleNavigateFromNotification
        }),
        
        // Modals
        showProjectModal && React.createElement(ProjectModal, {
          project: editingProject,
          onClose: () => {
            setShowProjectModal(false);
            setEditingProject(null);
          },
          onSave: handleSaveProject,
          isOpen: showProjectModal,
          teamMembers: teamMembers,
          onAddNewMember: () => {
            setShowProjectModal(false);
            setShowAddMemberModal(true);
          }
        }),
        
        showAddMemberModal && React.createElement(AddTeamMemberModal, {
          onClose: () => setShowAddMemberModal(false),
          onSave: handleAddTeamMember,
          isOpen: showAddMemberModal
        }),
        
        showTaskModal && React.createElement(TaskModal, {
          task: editingTask,
          onClose: () => {
            setShowTaskModal(false);
            setEditingTask(null);
          },
          onSave: handleSaveTask,
          isOpen: showTaskModal,
          teamMembers: teamMembers,
          projectId: selectedProject,
          currentUser: currentUser,
          onNotification: handleAddNotification
        })
      );
    };

    ReactDOM.render(React.createElement(App, null), document.getElementById('root'));
  </script>
</body>
</html>